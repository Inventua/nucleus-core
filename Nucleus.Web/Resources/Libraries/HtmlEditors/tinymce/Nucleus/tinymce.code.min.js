!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code_monaco",n=>((n=>{n.addCommand("mceCodeEditor",()=>{(n=>{const t=(n=>n.getContent({source_view:!0}))(n);n.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"},{type:"htmlpanel",html:'<div id="tinymce-monaco-editor"><\/div>'}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0},],initialData:{code:t},onSubmit:t=>{((n,t)=>{n.focus(),n.undoManager.transact(()=>{n.setContent(t)}),n.selection.setCursorLocation(),n.nodeChanged()})(n,t.getData().code),t.close()}});jQuery().MonacoEditor&&(jQuery("#tinymce-monaco-editor").MonacoEditor({language:"html",linkedElement:".tox-textarea",model:null}),jQuery("#tinymce-monaco-editor").parent().siblings().css("display","none"),jQuery("#tinymce-monaco-editor").parent().css("flex","1").css("display","flex"),jQuery("head").append(jQuery('<link rel="stylesheet" type="text/css" href="/Resources/Libraries/HtmlEditors/tinymce/Nucleus/content.min.css">')))})(n)})})(n),(n=>{const t=()=>n.execCommand("mceCodeEditor");n.ui.registry.addButton("code_monaco",{icon:"sourcecode",tooltip:"Source code",onAction:t});n.ui.registry.addMenuItem("code_monaco",{icon:"sourcecode",text:"Source code",onAction:t})})(n),{}))}();