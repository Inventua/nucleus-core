(function(n){"use strict";function i(n){return{ico:"create-link",fn:function(){var t=n.openModal(n.lang.insertNucleusPage,['<form class="nucleus-pageselectorform"><div class="nucleus-flex-fields nucleus-pageselector"><\/div><\/form>','<div class="nucleus-button-panel"><button class="btn btn-primary insert-page">Insert Page Link<\/button><button class="btn btn-secondary cancel-insert-page">Cancel<\/button><\/div>',],!1);r(n,".nucleus-pageselector");jQuery(".insert-page").on("click",function(){var i=jQuery(".nucleus-pageselector li > a.selected").attr("data-linkurl"),t=n.getRangeText();t===null&&(t=jQuery(".nucleus-pageselector li > a.selected").html());n.restoreRange();n.execCmd("insertHTML",'<a href="'+i+'">'+t+"<\/a>");n.closeModal()});jQuery(".cancel-insert-page").on("click",function(){n.closeModal()})}}}function r(n,t){var r=document.baseURI+"User/PageSelector/Index",i;jQuery.ajax({url:r,method:"GET",success:function(n){jQuery(t).html(n)}});i=jQuery(".trumbowyg-modal form");i.attr("data-target",t);i.attr("action",r);i.attr("method","POST")}var t={};n.extend(!0,n.trumbowyg,{langs:{en:{insertNucleusPage:"Insert Page Link"}},plugins:{insertNucleusPage:{init:function(r){r.o.plugins.pages=n.extend(!0,{},t,r.o.plugins.insertNucleusPage||{});r.addBtnDef("insertNucleusPage",i(r))},tagHandler:function(){return[]},destroy:function(){}}}})})(jQuery);