@model Nucleus.Web.ViewModels.Admin.FileSystem
@using Nucleus.Abstractions.Models
@using (Html.BeginAreaForm("SaveFolderSettings", "FileSystem", "Admin", new { @id = Model.Folder.Path }, FormMethod.Post, new { @data_target = "form.parent()" }))
{	
	<h2 class="nucleus-modal-caption">Folder Settings</h2>
	<Tab>
		<TabItem active="true" target="#folder-settings" caption="Settings"></TabItem>
		<TabItem target="#folder-permissions" caption="Permissions"></TabItem>
	</Tab>

	<TabContent>
		<TabPanel id="folder-settings" active="true">
			<fieldset role="group" aria-labelledby="heading">
				<h2>Settings</h2>
				<SettingsControl caption="Include in Search?" rendermode="LabelLast" class="inner-inline" helptext="Specifies whether the files within this folder are included in the search index, if search is enabled for your site.">
					@Html.CheckBoxFor(model => model.Folder.IncludeInSearch, new { @class = "ToggleSwitch" })
				</SettingsControl>
			</fieldset>
		</TabPanel>

		<TabPanel id="folder-permissions">
			<fieldset role="group" aria-labelledby="heading">
				<h2>Permissions</h2>
				@await Html.PartialAsync("_FolderPermissions", Model)
			</fieldset>
		</TabPanel>
	</TabContent>

	<div class="nucleus-button-panel">
		<input type="submit" class="btn btn-primary" value="Save Changes" data-target=".nucleus-adminpage" />
	</div>
}