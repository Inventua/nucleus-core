function _extensionsStore(){function n(n,t,i){_queryUrl=n;_installUrl=t;_queryStoreUrl=i}function t(n){var i=jQuery("#StoreFrame").first().contentWindow,r,t;switch(n.data.method){case"install":r=jQuery.Event("submit",{originalEvent:n});jQuery("#nucleus-extensions-store-form").attr("action",_installUrl+"?id="+n.data.id);jQuery("#nucleus-extensions-store-form").trigger(r);break;case"query":jQuery.ajax({url:_queryUrl,"async":!0,method:"GET",data:{id:n.data.id},headers:{Accept:"application/json, */*"},success:function(n){n.type="query";i.postMessage(n,"*")}});case"detect":t=jQuery("#nucleus-extensions-store-form");jQuery.ajax({url:_queryStoreUrl,"async":!0,method:"POST",enctype:t.attr("enctype"),data:t.attr("enctype")==="multipart/form-data"?new FormData(t[0]):t.serialize(),processData:t.attr("enctype")==="multipart/form-data"?!1:!0,contentType:t.attr("enctype")==="multipart/form-data"?!1:"application/x-www-form-urlencoded; charset=UTF-8",headers:{Accept:"application/json, */*"},success:function(n){n.type="detect";i.postMessage(n,"*")}})}}this.SetUrls=n;_queryUrl="";_installUrl="";_queryStoreUrl="";window.addEventListener("message",t,!1)}var ExtensionsStore=new _extensionsStore;