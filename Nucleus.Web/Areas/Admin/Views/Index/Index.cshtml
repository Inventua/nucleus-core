@model Nucleus.Web.ViewModels.Admin.Index
@using Nucleus.ViewFeatures.HtmlHelpers
@using Nucleus.Abstractions
@{ Layout = ""; }
<!DOCTYPE html>
<html lang="en">
<head>
	<base href="@Url.Content("~/")" />
	<meta name="viewport" content="width=device-width" />
	<meta charset="utf-8">
	<meta content="text/html" http-equiv="Content-Type" />
	<title>Nucleus Admin</title>
	@Html.AddStyle(AddStyleHtmlHelper.WellKnownScripts.BOOTSTRAP)
	@Html.AddStyle("~/Resources/css/shared.css")
	@Html.AddStyle("~/Resources/css/admin.css")
	@Html.AddStyle("~/Resources/css/forms.css")
	@Html.AddStyle("~/Resources/css/editmode.css")
	@Html.AddStyle("~/Shared/Controls/Views/PagingControl.css")
	@Html.AddScript(AddScriptHtmlHelper.WellKnownScripts.JQUERY)
	@Html.AddScript(AddScriptHtmlHelper.WellKnownScripts.BOOTSTRAP)
	@Html.AddScript("~/Resources/js/jquery-toggleswitch.js")
	@Html.AddScript("~/Resources/js/jquery-pagelist.js")
	@Html.AddScript("~/Resources/js/nucleus-shared.js")
	@Html.AddScript("~/Resources/js/nucleus-admin.js")
	@Html.AddHtmlEditor()
	<merge-stylesheets>
	@Html.RenderStyles()
	</merge-stylesheets>
	<merge-scripts>
	@Html.RenderScripts()
	</merge-scripts>
</head>
<body>
	<div class="nucleus-control-panel">
		<ul class="nucleus-control-panel-sidebar">
			@if (Model.IsSiteAdmin)
			{
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("System", "System", "~/Admin/System/Index", "Y", "&#xe871;", "SystemIcon"))
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("Pages", "Pages", "~/Admin/Pages/Index", "P", "&#xef42;", "PagesIcon"))
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("Manage", "Manage", "~/Admin/Manage/Index", "M", "&#xf02e;", "ManageIcon"))
			}
			@if (Model.IsSystemAdministrator)
			{
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("Extensions", "Extensions", "~/Admin/Extensions/Index", "E", "&#xe87b;", "ExtensionsIcon"))
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("Settings", "Settings", "~/Admin/Settings/Index", "S", "&#xe8b8;", "SettingsIcon"))
			}

			@if (Model.CanEditPage)
			{
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("nucleus-edit-page-btn", "Edit Page", "Edit Page", "~/Admin/Pages/Editor" + "?id=" + @Model.CurrentPage.Id + "&mode=Single", "E", "&#xef42;", "nucleus-control-panel-sidebar-bottom"))
			}
			@if (Model.CanEditContent)
			{
				@await Html.PartialAsync("_IndexIcon", new Nucleus.Web.ViewModels.Admin.IndexIcon("nucleus-edit-content-btn", "Toggle Edit Mode", "Edit Content", "~/Admin/Settings/Index", "S", "&#xe3c9;", "nucleus-control-panel-sidebar-bottom nucleus-control-panel-sidebar-bottom" + (Model.IsEditMode ? "-active" : "")))
			}
		</ul>

		<div class="nucleus-control-panel-content collapse" aria-expanded="false">
			<div class="nucleus-control-panel-content-header border-bottom mb-1">
				<h1 id="nucleus-control-panel-heading"></h1>
				<a class="nucleus-btn-close-frame">&#xe5cd;</a>
				<a class="nucleus-btn-page-back" data-target=".nucleus-adminpage">&#xe5c4;</a>
				<a class="nucleus-btn-toggle-tooltips" title="Toggle Tooltips">&#xe887;</a>
			</div>
			<div class="nucleus-adminpage nucleus-admin-content"><img class="nucleus-progress-medium" src="~/Resources/Images/progress_medium.gif"/></div>
		</div>
	</div>

	<modal id="nucleus-popupdialog" title="Settings"></modal>

</body>
</html>

