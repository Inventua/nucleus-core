/*! monaco-editor | Provides a jQuery plugin wrapper for the Monaco editor for use in admin pages in Nucleus CMS.  (c) Inventua Pty Ptd.  www.nucleus-cms.com */
var require={paths:{vs:"Resources/Libraries/Monaco/0.44.0/min/vs"}};(function(){jQuery.fn.MonacoEditor=function(n){function u(){typeof monaco_completionItemProviderInstance!="undefined"&&window.monaco_completionItemProviderInstance!==null&&window.monaco_completionItemProviderInstance.dispose();window.monaco_completionItemProviderInstance=monaco.languages.registerCompletionItemProvider("razor",{triggerCharacters:["."],provideCompletionItems:function(i,r){var h=i.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:r.lineNumber,endColumn:r.column}),f=h.split("\n"),u=f[f.length-1].match("@Model[?]{0,1}[.]{1}(?<expression>[A-Za-z0-9_.]*)[s(]*(?<parameters>[A-Za-z0-9._]*)$");if(!u)return{suggestions:[]};var e=i.getWordUntilPosition(r),o={startLineNumber:r.lineNumber,endLineNumber:r.lineNumber,startColumn:e.startColumn,endColumn:e.endColumn},c=u.groups.expression.split(".").filter(n=>n),s=u.groups.parameters.split(".").filter(n=>n).map(n=>"#"+n);return{suggestions:s.length===0?t(n.model,c,!1,o):t(n.model,s,!0,o)}}})}function t(n,i,r,u){var o=[],f,h,e,s;if(i.length===0){if(r)return o;f=n}else if(f=n[i[0]],typeof f=="undefined"||f===null){h=i[0].match("[A-Za-z0-9]*").toString();for(e in n)e.match("[A-Za-z0-9]*").toString()===h&&(f=n[e])}if(typeof f!="undefined"&&f!==null)if(i.length===0)for(e in f)(i.length>0||!e.startsWith("#"))&&(s=f[e],result={label:s.label??e,kind:s.kind??monaco.languages.CompletionItemKind.Property,documentation:s.documentation??"",insertText:s.code??e,range:u},o[o.length]=result);else typeof i.shift()!="undefined"&&(typeof f.properties!="undefined"&&f.properties!==null&&(o=t(f.properties,i,!1,u)),typeof f.functions!="undefined"&&f.functions!==null&&(o=o.concat(t(f.functions,i,!1,u))));return o}var r=jQuery.extend({},n),i=!1;return this.each(function(t,f){if(typeof monaco!="undefined"&&(i||(n.model&&u(),i=!0),this._monacoEditor=monaco.editor.create(f,{value:[jQuery(r.linkedElement).val()].join("\n"),language:"razor",automaticLayout:!0,lineNumbersWidth:3,useShadowDOM:!0,minimap:{enabled:!1}}),typeof n.linkedElement!="undefined")){this._monacoEditor.linkedElement=jQuery(n.linkedElement);this._monacoEditor.getModel().onDidChangeContent(()=>{this._monacoEditor.linkedElement.length!==0&&this._monacoEditor.linkedElement.val(this._monacoEditor.getValue())});this._monacoEditor.linkedElement.length!==0&&this._monacoEditor.linkedElement.hide()}})}})(jQuery);