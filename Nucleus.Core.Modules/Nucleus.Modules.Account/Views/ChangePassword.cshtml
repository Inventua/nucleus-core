@model Nucleus.Modules.Account.ViewModels.ChangePassword
@addTagHelper "*, Nucleus.ViewFeatures"
@using Nucleus.ViewFeatures.HtmlHelpers
@using Nucleus.ViewFeatures
@Html.AddStyle("~/Resources/css/forms.css")
@using (Html.BeginNucleusForm("ChangePassword", "ChangePassword", FormMethod.Post, new { data_target = "form.parent()" }))
{
	{		
		<fieldset aria-labelledby="Change Password">
			@Html.HiddenFor((model) => model.ReturnUrl)

			@if (!Model.ExistingPasswordBlank)
			{
				<SettingsControl caption="Old Password" helptext="Enter your current password.">
					@Html.PasswordFor(model => model.Password)
				</SettingsControl>
			}
			else
			{
				@Html.HiddenFor(model => model.ExistingPasswordBlank)	
			}

			<SettingsControl caption="New Password" helptext="Enter your new password.">
				@Html.PasswordFor(model => model.NewPassword)
			</SettingsControl>

			<SettingsControl caption="Confirm New Password" helptext="Confirm your new password.">
				@Html.PasswordFor(model => model.ConfirmPassword)
			</SettingsControl>

			<div>
				<input type="submit" value="Change Password" class="btn btn-primary" />
				<a href="/" class="btn btn-secondary">Cancel</a>
			</div>
		</fieldset>
	}
}