/*! nucleus-shared | Nucleus shared client-side handlers and behaviours | (c) Inventua Pty Ptd.  www.nucleus-cms.com */
function _Page(){function nt(n){if(jQuery(this).attr("data-autopostbackevent")===n.type){n.preventDefault();n.stopImmediatePropagation();var t=jQuery.Event("submit",{originalEvent:n});t.originalEvent.submitter=this;jQuery(this).parents("form").first().trigger(t)}}function y(n){var t=n===document?"document":jQuery(n).attr("data-track-scroll");return"scrolltop:"+document.location.pathname+":"+t}function p(){try{return typeof sessionStorage!="undefined"}catch(n){return!1}}function tt(){if(p()&&window.self===window.top)jQuery(window).on("beforeunload",function(){jQuery("document, [data-track-scroll]").each(function(n,t){try{sessionStorage.setItem(y(t),jQuery(t).scrollTop().toString())}catch(i){}})})}function it(){if(typeof window.location.hash!="undefined"&&window.location.hash!==null&&window.location.hash!==""){var n=jQuery(window.location.hash);n.length!==0&&n[0].scrollIntoView({block:"nearest",inline:"nearest"})}else{if(!p()||window.self!==window.top)return;jQuery("document, [data-track-scroll]").each(function(n,t){var i=y(t);try{sessionStorage[i]&&jQuery(t).scrollTop(sessionStorage.getItem(i))}catch(r){}})}}function rt(n){var t,i,u,r;n.preventDefault();n.stopImmediatePropagation();n.currentTarget.tagName.toLowerCase()==="a"?(form=jQuery(n.currentTarget).parents("form"),jQuery(n.currentTarget).attr("href")!==undefined&&(t=jQuery(n.currentTarget).attr("href")),jQuery(n.currentTarget).attr("data-href")!==undefined&&(t=jQuery(n.currentTarget).attr("data-href")),i=jQuery(n.currentTarget).attr("data-frametarget")):n.currentTarget.tagName.toLowerCase()==="button"&&(form=jQuery(n.currentTarget).parents("form"),t=jQuery(n.currentTarget).attr("formaction"),i=jQuery(n.currentTarget).attr("data-frametarget"));typeof n.originalEvent!="undefined"&&typeof n.originalEvent.submitter!="undefined"&&(r=jQuery(n.originalEvent.submitter).attr("data-frametarget"),typeof r!="undefined"&&r!==""&&(i=r));u=jQuery(i);u.length!==0&&u.attr("src",t)}function o(n,t){var i=t;return i==="window"?jQuery(window):i==="document"?jQuery(document):(i.endsWith(".parent()")&&(t=t.substring(0,t.lastIndexOf(".parent()"))),n!==null&&n.length>0&&(target=n.find(t).first(),(target===null||target.length===0)&&(target=n.closest(t).first())),(target===null||target.length===0)&&(target=jQuery(t).first()),i.endsWith(".parent()")&&(target=target.parent()),target.is(".modal")&&(target=target.find(".modal-body")),target)}function ut(n){var t;return typeof n!="undefined"&&n!==null&&typeof n.originalEvent!="undefined"&&(typeof n.originalEvent!="undefined"&&n.originalEvent!==null&&typeof n.originalEvent.submitter!=" undefined"&&n.originalEvent.submitter!==null&&jQuery(n.originalEvent.submitter).is("[data-useurl]")?t=jQuery(n.originalEvent.submitter).attr("data-useurl"):n.currentTarget!=="undefined"&&n.currentTarget!==null&&jQuery(n.currentTarget).is("[data-useurl]")&&(t=jQuery(n.currentTarget).attr("data-useurl"))),t}function s(n){var t,i,u,f,r,e,s,h;(n.currentTarget.tagName.toLowerCase()==="form"?(t=jQuery(n.currentTarget),r=t,i=t.attr("action"),u=t.attr("data-target")):n.currentTarget.tagName.toLowerCase()==="a"&&(t=jQuery(n.currentTarget).parents("form"),r=jQuery(n.currentTarget),i=jQuery(n.currentTarget).attr("href"),u=jQuery(n.currentTarget).attr("data-target"),typeof i=="undefined"&&(i=t.attr("action")),typeof u=="undefined"&&(u=t.attr("data-target"))),typeof n.originalEvent!="undefined"&&typeof n.originalEvent.submitter!="undefined"&&(e=jQuery(n.originalEvent.submitter).attr("formaction"),typeof e!="undefined"&&e!==""&&(i=e,r=jQuery(n.originalEvent.submitter)),s=jQuery(n.originalEvent.submitter).attr("data-target"),typeof s!="undefined"&&s!==""&&(u=s,r=jQuery(n.originalEvent.submitter))),typeof u!="undefined")&&(f=o(r,u),f.find(".validation-error").removeClass("validation-error"),u!=="window")&&(n.preventDefault(),n.stopImmediatePropagation(),h=function(){c.call(this,f,i,n);jQuery.ajax({url:i,"async":!0,method:"POST",enctype:t.attr("enctype"),data:t.attr("enctype")==="multipart/form-data"?new FormData(t[0]):t.serialize(),headers:{Accept:"application/json, */*"},xhr:function(){var n=new window.XMLHttpRequest;return n.upload.addEventListener("progress",function(n){if(n.lengthComputable){var i=Math.round(n.loaded/n.total*100);t.trigger("progress",i)}},!1),n},processData:t.attr("enctype")==="multipart/form-data"?!1:!0,contentType:t.attr("enctype")==="multipart/form-data"?!1:"application/x-www-form-urlencoded; charset=UTF-8",beforeSend:function(){r.prop("disabled",!0)},success:function(u,e,o){r.prop("disabled",!1);a(f,r,u,i,n,e,o);t.trigger("success",[f,u,i,n,e,o])},error:function(u,e,o){r.prop("disabled",!1);l(f,r,i,n,e,o,u);t.trigger("error",[f,i,n,e,o,u])}})},typeof n.originalEvent!="undefined"&&typeof n.originalEvent.submitter!="undefined"&&typeof jQuery(n.originalEvent.submitter).attr("data-confirm")!="undefined"?et(jQuery(n.originalEvent.submitter).attr("data-confirm"),jQuery(n.originalEvent.submitter).attr("data-confirm-title"),function(){jQuery(n.originalEvent.submitter).trigger("confirmed",[f,i,n]);h.call(this)})||h.call(this):h.call(this))}function ft(n,t,i){var r=null;n!==null&&(n.currentTarget!==null&&typeof n.currentTarget!="undefined"&&(r=jQuery(n.currentTarget)),n.preventDefault(),n.stopImmediatePropagation());typeof i=="string"&&(i=jQuery(i));c.call(this,i,t,n);jQuery.ajax({url:t,"async":!0,headers:{Accept:"application/json, */*"},success:function(u,f,e){a(i,r,u,t,n,f,e)},error:function(u,f,e){l(i,r,t,n,f,e,u)}})}function h(n){n.preventDefault();n.stopPropagation();var t,r,i;return jQuery(n.currentTarget).attr("data-target")!==undefined?(jQuery(n.currentTarget).attr("href")!==undefined&&(t=jQuery(n.currentTarget).attr("href")),jQuery(n.currentTarget).attr("data-href")!==undefined&&(t=jQuery(n.currentTarget).attr("data-href")),r=jQuery(n.currentTarget).attr("data-target"),i=o(jQuery(n.currentTarget),r)):jQuery(n.target).attr("data-target")!==undefined&&(jQuery(n.target).attr("href")!==undefined&&(t=jQuery(n.target).attr("href")),jQuery(n.target).attr("data-href")!==undefined&&(t=jQuery(n.target).attr("data-href")),r=jQuery(n.target).attr("data-target"),i=o(jQuery(n.target),r)),i.find(".validation-error").removeClass("validation-error"),typeof t=="undefined"&&(t=jQuery(n.currentTarget).find("[href]").attr("href")),typeof i!="undefined"&&typeof t!="undefined"&&(c.call(this,i,t,n),jQuery.ajax({url:t,"async":!0,headers:{Accept:"application/json, */*"},success:function(r,u,f){a(i,jQuery(n.currentTarget),r,t,n,u,f)},error:function(r,u,f){l(i,jQuery(n.currentTarget),t,n,u,f,r)}})),!1}function c(n,t,r){jQuery(Page).trigger("progress",[{page:Page,target:n,url:t,event:r}]);var u=jQuery(this);r!==null&&r.originalEvent!==null&&typeof r.originalEvent!="undefined"&&(r.originalEvent.submitter!==null&&typeof r.originalEvent.submitter!="undefined"?u=jQuery(r.originalEvent.submitter):r.originalEvent.target!==null&&typeof r.originalEvent.target!="undefined"&&(u=jQuery(r.originalEvent.target)));u==null||u.hasClass("nucleus-show-progress")||(u=u.parents(".nucleus-show-progress").first());u!=null&&u.hasClass("nucleus-show-progress")&&(f(),i=window.setTimeout(()=>{var n=jQuery('<div class="spinner-border spinner-border-sm text-primary nucleus-progress-spinner ms-2" role="status"/>');u.hasClass("nucleus-show-progress-inside")?n.appendTo(u):u.hasClass("nucleus-show-progress-after")?n.insertAfter(u):u.hasClass("nucleus-show-progress-before")?n.insertBefore(u):u.hasClass("nucleus-show-progress-after-parent")?n.insertAfter(u.parent()):u.hasClass("nucleus-show-progress-after-last-sibling")?n.insertAfter(u.parent().children().last()):u.hasClass("nucleus-show-progress-inside-parent")&&n.appendTo(u.parent())},500))}function et(n,t,i){return(typeof t=="undefined"||t==="")&&(t="Confirm"),u(t,n,"question","Ok","Cancel",i),!0}function l(n,t,i,r,e,o,s){var h,y,c,k,l,a,b,p,d,g;if(s.status===302){s.getResponseHeader("X-Location-Target")==="_top"?window.parent.document.dispatchEvent(new CustomEvent("Open",{detail:{target:s.getResponseHeader("X-Location")}})):window.location.assign(s.getResponseHeader("X-Location"));return}if(typeof s.responseJSON!="undefined")if(s.status===400)if(typeof s.responseJSON.title!="undefined"&&typeof s.responseJSON.detail!="undefined")h=s.responseJSON;else{y=new Array(s.responseJSON.length);c="";for(k in s.responseJSON)l=jQuery('[name="'+k+'"]'),l.is(".HtmlEditorControl")?l.parents(".settings-control").first().addClass("validation-error"):l.addClass("validation-error"),c!==""&&(c+=","),c+="#"+l.attr("id");a=jQuery(c);b=Object.keys(s.responseJSON);b.sort(function(n,t){var i=jQuery('[name="'+n+'"]'),r=w(a,i.attr("id")),u=jQuery('[name="'+t+'"]'),f=w(a,u.attr("id"));return r-f});b.forEach(n=>{s.responseJSON[n].forEach(n=>{n.endsWith(".")||(n+="."),y[y.length]="<li>"+n+"<\/li>"})});a.length!==0&&(p=a.first().parents(".tab-pane"),p.length!==0&&(d=p.index()+1,p.parents(".tab-content").siblings("nav").find(".nav-item:nth-child("+d+") button").trigger("click")));g="<ul>"+y.join("")+"<\/ul>";h={};h.title="Validation Error";h.detail=g;h.statusCode=s.status;h.icon="warning"}else h=s.responseJSON;else s.status===403&&(h={},h.title="Access Denied",h.detail=s.responseText===null||s.responseText===""?"Your account does not have permission to access this function.":s.responseText,h.statusCode=s.status);(typeof h=="undefined"||h===null)&&(h={},h.title="Error ["+s.statusText+"]",h.detail=s.responseText??"",h.statusCode=s.status);n.find("input[type=file]").val("");f();v(t);u(h.title,h.detail,h.icon??"error")}function w(n,t){for(count=0;count<n.length;count++)if(jQuery(n[count]).attr("id")===t)return count}function u(t,i,r,u,f,e){var c,o,s,l,h,a,v;if(typeof u=="undefined"&&(u="Ok"),typeof f=="undefined"&&(f="Close"),c="",typeof e!="undefined"&&(c='<button type="button" class="btn btn-primary" data-bs-dismiss="modal">'+u+"<\/button>"),o="",s="",typeof r!="undefined")switch(r.toLowerCase()){case"question":s=" icon-question";o='<div class="dialog-icon"><span class="nucleus-material-icon">&#xe887;<\/span><\/div>';break;case"warning":s=" icon-warning";o='<div class="dialog-icon"><span class="nucleus-material-icon">&#xe002;<\/span><\/div>';break;case"alert":s=" icon-alert";o='<div class="dialog-icon"><span class="nucleus-material-icon">&#xe7f4;<\/span><\/div>';break;case"info":s=" icon-info";o='<div class="dialog-icon"><span class="nucleus-material-icon">&#xe88e;<\/span><\/div>';break;case"error":s=" icon-error";o='<div class="dialog-icon"><span class="nucleus-material-icon">&#xe000;<\/span><\/div>'}if(Array.isArray(i)){for(l=new Array(i.length),index=0;index<i.length;index++)messageItem=i[index].toString(),messageItem.endsWith(".")||(messageItem+="."),l[index]="<li>"+messageItem+"<\/li>";i="<ul>"+l.join("")+"<\/ul>"}if(i=i.replace(new RegExp("\n","g"),"<br/>"),h=bootstrap.Modal.getInstance(document.getElementById("nucleus-dialog")),a='    <div class="modal-content">      <div class="modal-header">        <h5 class="modal-title">'+t+'<\/h5>        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="'+f+'"><\/button>      <\/div>      <div class="modal-body flex-row">'+o+'        <div class="dialog-message">'+i+'<\/div>      <\/div>      <div class="modal-footer">'+c+'        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">'+f+"<\/button>      <\/div>    <\/div>",h===null?(v=jQuery('<div class="modal fade'+s+'" id="'+n+'" tabindex="-1" aria-label="'+t+'">  <div class="modal-dialog modal-dialog-centered modal-lg">'+a+"  <\/div ><\/div>"),jQuery("body").append(v)):jQuery("#"+n).find(".modal-dialog").html(a),typeof e!="undefined"){jQuery("#"+n).find(".btn-primary").on("click",e);jQuery("#"+n).on("keypress",function(n){n.which==13&&jQuery(this).find(".btn-primary").trigger("click")})}if(h===null){jQuery("#"+n).off("hidden.bs.modal");jQuery("#"+n).on("hidden.bs.modal",function(){jQuery("#"+n).remove()});h=new bootstrap.Modal("#"+n)}h.show()}function a(n,t,i,r,e,o,s){var c,l,h;ot(n,t,i,r,o,s);s.status===204||(c=ut(e),typeof c!="undefined"&&c!==null&&(l={url:c},window.history.pushState(l,"",c)),typeof s.responseJSON!="undefined"&&typeof s.responseJSON.message!="undefined"?(f(),v(t),u(s.responseJSON.title,s.responseJSON.message,s.responseJSON.icon)):i.startsWith("<!DOCTYPE")?(document.open(),document.write(i),document.close()):(h=[],n.find("input[type=password]").each(function(n,t){var i=jQuery(t);h[n]={name:i.prop("name"),value:i.val()}}),n.empty().html(i).attr("data-src",r),jQuery(h).each(function(t){n.find('input[type=password][name="'+h[t].name+'"]').val(h[t].value)}),h=null));st(n,t,i,o,s);jQuery(Page).trigger("ready",[{page:Page,target:n,data:i,url:r,event:e,status:o,request:s}]);b(n,i,r,o,s)}function ot(n,i,r,u){if(this._selectedTab=n.find(".nav .nav-item .active").parent().index()+1,typeof this._selectedPagePath!="undefined")try{var f=this._selectedPagePath.startsWith("/")?this._selectedPagePath.substring(1):this._selectedPagePath;this._selectedTabPath=new URL(document.baseURI+f).pathname}catch(e){console.error(e)}this._selectedPagePath=u;i!==null&&i.parents(".modal").length!==0&&i.parents(".modal").first().find(n).length===0&&(t(i.parents(".modal").first(),!1),i.parents(".modal").first().modal("hide"))}function f(){i>=0&&(window.clearTimeout(i),i=-1)}function st(n,i,r){var u,h,s,c,e,l,o;if(f(),v(i),n.is(":visible")||r===""||n.show(),!n.is(".modal, .modal-body")&&r!==""&&jQuery(".modal").is(":visible")&&i!==null&&i.parents(".modal").length!==0&&i.parents(".modal").first().find(n).length===0&&i.parents(".modal").first().modal("hide"),n.parents(".modal").length!==0)if(u=n.parents(".modal").first(),r!==""){h=jQuery(".nucleus-modal-caption").first();s=u.find(".modal-title");s.length!==0&&(h.length!==0?(s.text(h.text()),h.remove()):s.text(s.attr("data-original-text")));c=jQuery(".nucleus-help-url").first();e=u.find(".btn-help");e.length!==0&&(c.length!==0?(e.attr("href",c.attr("href")),e.removeClass("collapse"),c.remove()):(e.attr("href",""),e.addClass("collapse")));jQuery(n).find("form, button, input").each(function(n,t){t=jQuery(t);t.tagName!=="form"&&(form=t.parents("form"));(typeof t.attr("data-target")=="undefined"||t.attr("data-target")==="")&&typeof form!="undefined"&&(typeof form.attr("data-target")=="undefined"||form.attr("data-target")==="")&&t.attr("data-target",".modal-body")});u.is(":visible")||(l=new bootstrap.Modal(u,{backdrop:"static"}),l.show());u.off("shown.bs.modal");u.on("shown.bs.modal",function(n){ht(n)});u.off("hidden.bs.modal");u.on("hidden.bs.modal",function(n){ct(n,this)})}else t(u,!1),u.modal("hide");if(window.self===window.top&&r===""&&n.length===0){window.location.reload(!0);return}if(window.self!==window.top&&r===""&&(jQuery(frameElement).attr("id")!=="nucleus-admin-frame"||i.hasClass("nucleus-dialogresult"))){jQuery(frameElement).hide();window.parent.document.dispatchEvent(new CustomEvent("Refresh"));return}n!==null&&n.find("input[type=file]").val("");jQuery("select option").each(function(){jQuery(this).text()=="-"&&window.setTimeout(function(n){var r=n.parent(),t=jQuery("<span>-<\/span>"),i;t.css("font-size",n.parent().css("font-size"));r.parent().append(t);i=Math.floor(r.width()/t.width());t.remove();Number.isInteger(i)||(i=10);n.text("-".repeat(i));n.attr("disabled","disabled")},100,jQuery(this))});jQuery(document.activeElement).is("input[type=search]")||(o=n.find('.nucleus-default-control, input:not([type="hidden"]), select, textarea').first(),o.length===0&&(o=n.find('button, a, [tabindex]:not([tabindex="-1"])').first()),o.length>0&&window.setTimeout(function(){lt(o.first())&&o.first().focus()},100))}function v(n){typeof n!="undefined"&&n!==null&&n.hasClass("nucleus-show-progress")&&(n.hasClass("nucleus-show-progress-before")||n.hasClass("nucleus-show-progress-after")?n.siblings(".nucleus-progress-spinner").remove():n.hasClass("nucleus-show-progress-after-parent")?n.parent().siblings(".nucleus-progress-spinner").remove():n.hasClass("nucleus-show-progress-inside-parent")?n.parent().find(".nucleus-progress-spinner").remove():n.hasClass("nucleus-show-progress-after-last-sibling")?n.parent().children().find(".nucleus-progress-spinner").remove():n.find(".nucleus-progress-spinner").remove())}function ht(n){jQuery.uniqueSort(jQuery(".modal-backdrop").parent()).each(function(t,i){jQuery(i).find(".modal-backdrop:not(:first)").remove();n.stopPropagation()})}function ct(n,t){jQuery(t).siblings(".modal-backdrop").remove();jQuery(t).parents().first().siblings(".modal-backdrop").remove();jQuery(".modal:visible").length===0&&jQuery("body").children(".modal-backdrop").remove();n.stopPropagation()}function lt(n){var t=n.offset().top,r=t+n.outerHeight(),i=jQuery(window).scrollTop(),u=i+jQuery(window).height();return r>i&&t<u}function b(n,t,i){if(typeof this._selectedTab!="undefined"&&this._selectedTab!==-1&&typeof i!="undefined"&&i!==null)try{var r=i.startsWith("/")?i.substring(1):i,u=new URL(document.baseURI+r).pathname;(window.self!==window.top&&jQuery(frameElement).attr("id")!=="nucleus-admin-frame"||at(this._selectedTabPath,u))&&n.find(".nav .nav-item:nth-child("+this._selectedTab+") button").trigger("click")}catch(f){console.error(f)}jQuery().HtmlEditor&&n.find(".HtmlEditorControl").HtmlEditor({isAdminMode:!1});jQuery().ToggleSwitch&&n.find(".ToggleSwitch").ToggleSwitch();jQuery().PageList&&n.find(".nucleus-page-list").PageList();Page.EnableEnhancedToolTips(!0)}function at(n,t){var i;if(typeof n=="undefined"||typeof t=="undefined"||n===null||t===null)return!1;var r=n.split("/"),u=t.split("/"),f=0;for(i=0;i<r.length&&i<u.length;i++)r[i]!==""&&r[i]===u[i]&&f++;return f>=2}function vt(n){function i(n){return n.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}var t=document.cookie.match(RegExp("(?:^|;\\s*)"+i(n)+"=([^;]*)"));return t?t[1]:null}function yt(n,t,i){(typeof i=="undefined"||i===null)&&(i=!1);jQuery(n).each(function(n,r){var u;u=i?jQuery('<button class="nucleus-copy-button nucleus-material-icon btn btn-none d-block ms-auto mb-1 fs-small" type="button" title="Copy to Clipboard">&#xe14d;<\/button>'):jQuery('<button class="nucleus-copy-button nucleus-material-icon btn btn-none ms-1 fs-small" type="button" title="Copy to Clipboard">&#xe14d;<\/button>');u[0].CopyTarget=typeof t!="undefined"&&t!==null?jQuery(r).find(t).length>0?jQuery(r).find(t):jQuery(r).closest(t):jQuery(r);u.on("click",function(){return k(this.CopyTarget),!1});i?u.insertBefore(jQuery(r)):u.insertAfter(jQuery(r))})}function k(n){if(jQuery(n).length!==0){var t=jQuery(n).is("input, textarea")?jQuery(n).val().trim():jQuery(n)[0].innerText.replace(/[^\x20-\x7E\x0A\x0D]/g,"").trim();try{navigator.clipboard.writeText(t)}catch{}}}function t(n,t){var i;i=jQuery(n).hasClass(".modal-dialog")?jQuery(n):jQuery(n).parents(".modal-dialog").first();t?i.addClass("modal-full-size"):i.removeClass("modal-full-size")}function pt(n){if(typeof n=="string")d(n);else for(var t=0;t<n.length;t++)d(n[t])}function d(n){for(var t=0;t<r.length;t++)if(r[t]===n)return;r.push(n)}function g(n){jQuery(n).parents(".modal").length!==0?jQuery(n).parents(".modal").first().modal("hide"):window.parent.document.dispatchEvent(new CustomEvent("ClosePopupDialog",{}))}function wt(n){jQuery(".settings-control[title]").each(function(t,i){var r,u;if(n){r=jQuery(i).find("label span");jQuery(i).attr("data-bs-original-title",jQuery(i).attr("title")).removeAttr("title","");r.attr("data-bs-toggle","tooltip");u=new bootstrap.Tooltip(r,{trigger:"hover",placement:"bottom",container:i,title:function(n){return jQuery(n).parents(".settings-control").first().attr("data-bs-original-title")},delay:600});r.removeAttr("data-bs-original-title").removeAttr("title","");i.addEventListener("shown.bs.tooltip",function(){var t,n;jQuery(this).hasClass("settings-control")&&jQuery(this).css("position")=="relative"&&(t=jQuery(this).find(".tooltip").css("transform"),t.includes("matrix")&&(n=t.split(","),t=n[0]+","+n[1]+","+n[2]+","+n[3]+",0,"+n[5],jQuery(this).find(".tooltip").css("transform",t)),jQuery(this).find(".tooltip-arrow").css("transform","translateX(10px)"))});jQuery(document).on("click keydown",function(){jQuery('.settings-control label span[data-bs-toggle="tooltip"]').each(function(n,t){var i=bootstrap.Tooltip.getInstance(t);i!=null&&i.hide()})})}else jQuery(i).attr("title",jQuery(i).attr("data-bs-original-title")),jQuery(i).find("label span").removeAttr("data-bs-toggle","tooltip"),bootstrap.Tooltip.getInstance(jQuery(i).find('label span[data-bs-toggle="tooltip"]')).disable()})}function bt(n,t){window.document.addEventListener("ExpandAdminFrame",function(n){var t=jQuery("body");n.detail!==null&&n.detail.expand?t.addClass("nucleus-admin-frame-expanded"):t.removeClass("nucleus-admin-frame-expanded")},!1);window.document.addEventListener("ToggleControlPanelDocking",function(){jQuery("body").toggleClass("control-panel-dock-top");var n=jQuery("body").hasClass("control-panel-dock-top")?"true":"";document.cookie=t+"="+n+"; Path=/; max-age=3600"},!1);window.document.addEventListener("Refresh",function(t){if(t.detail!==null&&typeof t.detail.setEditMode!="undefined"){var i=t.detail.setEditMode?"true":"",r=t.detail.setEditMode?"3600":"0";document.cookie=n+"="+i+"; Path=/; max-age="+r}jQuery("body").fadeTo("opacity","0.3");window.location.reload()},!1);window.document.addEventListener("Open",function(n){n.detail!==null&&typeof n.detail.target!="undefined"&&(jQuery("body").fadeTo("opacity","0.3"),window.location=n.detail.target)},!1);window.document.addEventListener("InitializePopupDialog",function(n){var i,t,u,r,f;if(n.detail!==null&&typeof n.detail.element!="undefined"){if(i=jQuery(n.detail.element),!i.is("iframe"))return;if(t=i.parents(".modal"),u=t.find(".modal-title"),u.text(i.attr("title")),typeof i.attr("data-helpurl")!="undefined"&&i.attr("data-helpurl")!==""&&(r=t.find(".btn-help"),r.length!==0&&(r.attr("href",i.attr("data-helpurl")),r.removeClass("collapse"))),!t.hasClass("show-in-progress")&&!t.hasClass("show")){f=new bootstrap.Modal(t,{backdrop:"static"});t.on("hidden.bs.modal",function(){jQuery("body").fadeTo("opacity","0.3");window.location.reload(!0)});t.addClass("show-in-progress");t.on("shown.bs.modal",function(){t.removeClass("show-in-progress")});f.show()}i.show()}},!1);window.document.addEventListener("ClosePopupDialog",function(){jQuery("#nucleus-popupdialog").modal("hide")},!1)}this.PostPartialContent=s;this.GetPartialContent=h;this.LoadPartialContent=ft;this.GetCookie=vt;this.AddEventHandlers=bt;this.AttachCopyButton=yt;this.CopyToClipboard=k;this.Dialog=u;this.EnableEnhancedToolTips=wt;this.ClosePopupDialog=g;this.AddWasmRuntimeAssemblies=pt;this.WasmRuntimeAssemblies=function(){return r};var n="nucleus-dialog",i=-1,r=[];jQuery(function(){var n=(new Date).getTimezoneOffset()*-1;document.cookie="timezone-offset="+n.toString()+"; path=/;SameSite=Strict;max-age=3600";it();tt();jQuery("a[data-target][href], a[data-frametarget][href]").each(function(n,t){jQuery(t).attr("data-href",jQuery(t).attr("href"));jQuery(t).attr("href","#0;")});jQuery(document).on("click",'[data-target]:not(form, input, button):not([data-method="POST"])',h);jQuery(document).on("click",'button[type="button"][data-target][data-href]',h);jQuery(document).on("submit",'form[data-target], form:has(input[type="submit"][data-target], input[type="file"][data-target], button[type="submit"][data-target])',s);jQuery(document).on("click","a[data-frametarget], button[data-frametarget]",rt);jQuery(document).on("click",'a[data-method="POST"]',s);jQuery(document).on("click change keydown keyup input","INPUT[data-autopostbackevent], SELECT[data-autopostbackevent]",nt);jQuery(window).on("popstate",function(){history.state&&typeof history.state.url!="undefined"&&(window.location=history.state.url)});jQuery(document).on("keydown","input",function(n){var t,i,r,u;if(n.key==="Enter"&&(t=jQuery(this).parents("form"),t.length!==0)){if(i=t.find(".nucleus-default-button"),i.length===1){i.trigger("click");n.preventDefault();return}if(r=t.find(".btn-primary"),r.length===1){r.trigger("click");n.preventDefault();return}if(u=t.find('input[type="submit"]'),u.length===1){u.trigger("click");n.preventDefault();return}}});jQuery(document).on("dblclick",".modal-dialog .modal-header",function(){t(this,!jQuery(this).parents(".modal-dialog").first().hasClass("modal-full-size"))});jQuery(document).on("click",".modal-dialog .modal-header .btn-maximize",function(){t(this,!0)});jQuery(document).on("click",".modal-dialog .modal-header .btn-normalsize, .modal-dialog .modal-header .btn-close",function(){t(this,!1)});jQuery(document).on("click",'.nucleus-settings-frame *[data-bs-dismiss="modal"]',function(){g(this)});jQuery('.nucleus-menu [data-bs-toggle="dropdown-keyboardonly"]').on("keydown",function(n){var t,i;[37,38,39,40].includes(n.which)&&(t=jQuery(this).siblings('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)'),t.length>0&&(i=bootstrap.Dropdown.getOrCreateInstance(t),n.key=[37,38].includes(e.which)?"ArrowUp":"ArrowDown",n.stopPropagation(),i.show(),i._selectMenuItem(n)))});jQuery(".nucleus-menu .dropdown-menu").on("keydown",function(n){var t,i;[37,39].includes(n.which)&&(t=jQuery(this).siblings('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)'),t.length>0&&(i=bootstrap.Dropdown.getOrCreateInstance(t),n.key=n.which===37?"ArrowUp":"ArrowDown",n.stopPropagation(),i.show(),i._selectMenuItem(n)))});jQuery(".dropdown-submenu .dropdown-toggle").on("click",function(){var n=jQuery(this).next(".dropdown-menu");jQuery(".dropdown-menu").not(n.parents()).removeClass("show");n.off("shown.bs.collapse");n.on("shown.bs.collapse",function(){n.css("margin-left","");var t=jQuery(window).width()-16-(n.offset().left+n.outerWidth(!0));t<0&&n.css("margin-left",t)});return n.collapse("show"),!1});jQuery(document).on("click","",function(){jQuery(".dropdown-submenu .dropdown-menu").removeClass("show")});jQuery(document).on("change","input[type=file]",function(n){n.preventDefault();n.stopImmediatePropagation();var i=jQuery(this).parents("form"),t=i.find(".upload-progress").first(),r=t.find("progress"),u=t.find("label");t.siblings().css("opacity",".4");t.siblings(".alert").hide();t.show();i.on("progress",function(n,t){r.attr("value",t.toString());r.text(t.toString()+"%");var f=0,i="file";jQuery(n.currentTarget).find("input[type=file]").each(function(n,t){t!=null&&typeof t.files!="undefined"&&(f+=t.files.length)});f>1&&(i="files");t<100?u.text("Uploading "+i+" ..."):u.text("Upload Complete.  Processing "+i+" ...")});i.on("error",function(){t.hide();t.siblings().css("opacity","1")});i.attr("action",jQuery(this).attr("formaction"));i.trigger("submit")});jQuery("body").on("click",function(){jQuery(".PopupMenu").fadeOut()});jQuery(".nucleus-default-control").trigger("focus");jQuery(Page).trigger("ready",[{page:Page}]);b(jQuery(document),null,null,null,null)})}var Page=new _Page;